[gd_scene load_steps=5 format=3]

[ext_resource type="PackedScene" path="res://scenes/Player.tscn" id="1"]
[ext_resource type="PackedScene" path="res://scenes/FlyingMimic.tscn" id="2"]
[ext_resource type="PackedScene" path="res://scenes/ChaserNPC.tscn" id="3"]
[ext_resource type="PackedScene" path="res://scenes/HUD.tscn" id="4"]
[ext_resource type="PackedScene" path="res://scenes/PauseMenu.tscn" id="5"]

[node name="World" type="Node2D"]

; ----- (Optional) camera-friendly zoom / background color can be set in project settings -----

; ---- Level root (make/instance your TileMap under here) ----
[node name="Level" type="Node2D" parent="."]
position = Vector2(0, 0)

; You can add a TileMap as a child of Level in the editor:
; [node name="TileMap" type="TileMap" parent="Level"]
; tileset = ExtResource("...")

; ---- Player ----
[node name="Player" parent="." instance=ExtResource("1")]
position = Vector2(64, -32)

; ---- Flying Mimic (starts inactive; ChaserNPC will call start_chase()) ----
[node name="FlyingMimic" parent="." instance=ExtResource("2")]
position = Vector2(-64, -64)
; If you want its CatchArea off until the chase starts, set that in the script's start_chase().

; ---- Chaser NPC (talk to start chase) ----
[node name="ChaserNPC" parent="." instance=ExtResource("3")]
position = Vector2(32, -32)
; Link this NPC to the mimic so it can activate the chase
mimic_path = NodePath("../FlyingMimic")
; You can also customize its dialogue lines here:
; lines = ["â€¦You kept me waiting.", "Run."]

; ---- Goal placeholder (optional): add your own GoalArea.tscn later at end of level ----
; [node name="GoalArea" type="Area2D" parent="."]
; position = Vector2(1024, -64)
; (Use a custom GoalArea.tscn with a CollisionShape2D and script that calls player.win("You Escaped!"))

; ---- HUD & Pause Menu overlays ----
[node name="HUD" parent="." instance=ExtResource("4")]

[node name="PauseMenu" parent="." instance=ExtResource("5")]
